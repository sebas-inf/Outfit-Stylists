{"version":3,"file":"getTheme_v2.js","sources":["../../src/theme/defaults/config.ts","../../src/theme/versioning/themeColor_v0_v2.ts","../../src/theme/versioning/getTheme_v2.ts"],"sourcesContent":["import {RootTheme_v2} from '../system'\n\nconst BORDER_WIDTH = 1\nconst OUTLINE_WIDTH = 0.5\n\nexport const defaultThemeConfig: Omit<RootTheme_v2, 'color' | 'font'> = {\n  _version: 2,\n  avatar: {\n    sizes: [\n      {distance: -4, size: 19},\n      {distance: -4, size: 25},\n      {distance: -8, size: 33},\n      {distance: -12, size: 49},\n    ],\n    focusRing: {offset: 1, width: 1},\n  },\n  button: {\n    textWeight: 'medium',\n    border: {width: BORDER_WIDTH},\n    focusRing: {offset: -1, width: 1},\n  },\n  card: {\n    border: {width: BORDER_WIDTH},\n    focusRing: {offset: -1, width: 1},\n    shadow: {outline: OUTLINE_WIDTH},\n  },\n  container: [320, 640, 960, 1280, 1600, 1920],\n  media: [360, 600, 900, 1200, 1800, 2400],\n  layer: {\n    dialog: {zOffset: 600},\n    popover: {zOffset: 400},\n    tooltip: {zOffset: 200},\n  },\n  radius: [0, 1, 3, 6, 9, 12, 21],\n  shadow: [\n    null,\n    {umbra: [0, 0, 0, 0], penumbra: [0, 0, 0, 0], ambient: [0, 0, 0, 0]},\n    {umbra: [0, 3, 5, -2], penumbra: [0, 6, 10, 0], ambient: [0, 1, 18, 1]},\n    {umbra: [0, 7, 8, -4], penumbra: [0, 12, 17, 2], ambient: [0, 5, 22, 4]},\n    {umbra: [0, 9, 11, -5], penumbra: [0, 18, 28, 2], ambient: [0, 7, 34, 6]},\n    {umbra: [0, 11, 15, -7], penumbra: [0, 24, 38, 3], ambient: [0, 9, 46, 8]},\n  ],\n  space: [0, 4, 8, 12, 20, 32, 52, 84, 136, 220],\n  input: {\n    border: {\n      width: BORDER_WIDTH,\n    },\n    checkbox: {\n      size: 17,\n      focusRing: {offset: -1, width: 1},\n    },\n    radio: {\n      size: 17,\n      markSize: 9,\n      focusRing: {offset: -1, width: 1},\n    },\n    switch: {\n      width: 25,\n      height: 17,\n      padding: 5,\n      transitionDurationMs: 150,\n      transitionTimingFunction: 'ease-out',\n      focusRing: {offset: 1, width: 1},\n    },\n    select: {\n      focusRing: {offset: -1, width: 1},\n    },\n    text: {\n      focusRing: {offset: -1, width: 1},\n    },\n  },\n  style: {\n    button: {\n      root: {\n        transition: 'background-color 100ms,border-color 100ms,color 100ms',\n      },\n    },\n    // card: {\n    //   root: {\n    //     transition: 'background-color 100ms,border-color 100ms,color 100ms',\n    //   },\n    // },\n  },\n}\n","import {\n  ThemeColor,\n  ThemeColorGenericState,\n  ThemeColorMuted,\n  ThemeColorSelectable_v2,\n  ThemeColorState_v2,\n  ThemeColorCard_v2,\n  ThemeColorInputStates,\n  ThemeColorInputMode_v2,\n  ThemeColorInputState,\n  ThemeColorInputState_v2,\n} from '../system'\n\nconst cache = new WeakMap<ThemeColor, ThemeColorCard_v2>()\n\n/** @internal */\nexport function themeColor_v0_v2(color_v0: ThemeColor): ThemeColorCard_v2 {\n  const cached_v2 = cache.get(color_v0)\n\n  if (cached_v2) return cached_v2\n\n  const base = stateThemeColor_v0_v2(color_v0, color_v0.card.enabled)\n\n  const color_v2: ThemeColorCard_v2 = {\n    _blend: color_v0._blend || (color_v0.dark ? 'screen' : 'multiply'),\n    _dark: color_v0.dark,\n    accent: base.accent,\n    avatar: base.avatar,\n    backdrop: color_v0.base.shadow.ambient,\n    badge: base.badge,\n    bg: color_v0.base.bg,\n    border: color_v0.base.border,\n    button: {\n      default: stateTonesThemeColor_v0_v2(color_v0, color_v0.button.default),\n      ghost: stateTonesThemeColor_v0_v2(color_v0, color_v0.button.ghost),\n      bleed: stateTonesThemeColor_v0_v2(color_v0, color_v0.button.bleed),\n    },\n    code: base.code,\n    fg: color_v0.base.fg,\n    focusRing: color_v0.base.focusRing,\n    icon: base.muted.fg,\n    input: {\n      default: inputStatesThemeColor_v0_v2(color_v0.input.default),\n      invalid: inputStatesThemeColor_v0_v2(color_v0.input.invalid),\n    },\n    kbd: base.kbd,\n    link: base.link,\n    muted: {\n      ...base.muted,\n      bg: color_v0.selectable?.default.enabled.bg2 || color_v0.base.bg,\n    },\n    selectable: stateTonesThemeColor_v0_v2(color_v0, color_v0.selectable || color_v0.muted),\n    shadow: color_v0.base.shadow,\n    skeleton: {\n      from: color_v0.skeleton?.from || color_v0.base.border,\n      to: color_v0.skeleton?.to || color_v0.base.border,\n    },\n    syntax: color_v0.syntax,\n  }\n\n  cache.set(color_v0, color_v2)\n\n  return color_v2\n}\n\nfunction stateTonesThemeColor_v0_v2(\n  v0: ThemeColor,\n  t: Omit<ThemeColorMuted, 'transparent'>,\n): ThemeColorSelectable_v2 {\n  return {\n    default: {\n      enabled: stateThemeColor_v0_v2(v0, t.default.enabled),\n      hovered: stateThemeColor_v0_v2(v0, t.default.hovered),\n      pressed: stateThemeColor_v0_v2(v0, t.default.pressed),\n      selected: stateThemeColor_v0_v2(v0, t.default.selected),\n      disabled: stateThemeColor_v0_v2(v0, t.default.disabled),\n    },\n    neutral: {\n      enabled: stateThemeColor_v0_v2(v0, t.default.enabled),\n      hovered: stateThemeColor_v0_v2(v0, t.default.hovered),\n      pressed: stateThemeColor_v0_v2(v0, t.default.pressed),\n      selected: stateThemeColor_v0_v2(v0, t.default.selected),\n      disabled: stateThemeColor_v0_v2(v0, t.default.disabled),\n    },\n    primary: {\n      enabled: stateThemeColor_v0_v2(v0, t.primary.enabled),\n      hovered: stateThemeColor_v0_v2(v0, t.primary.hovered),\n      pressed: stateThemeColor_v0_v2(v0, t.primary.pressed),\n      selected: stateThemeColor_v0_v2(v0, t.primary.selected),\n      disabled: stateThemeColor_v0_v2(v0, t.primary.disabled),\n    },\n    suggest: {\n      enabled: stateThemeColor_v0_v2(v0, t.primary.enabled),\n      hovered: stateThemeColor_v0_v2(v0, t.primary.hovered),\n      pressed: stateThemeColor_v0_v2(v0, t.primary.pressed),\n      selected: stateThemeColor_v0_v2(v0, t.primary.selected),\n      disabled: stateThemeColor_v0_v2(v0, t.primary.disabled),\n    },\n    positive: {\n      enabled: stateThemeColor_v0_v2(v0, t.positive.enabled),\n      hovered: stateThemeColor_v0_v2(v0, t.positive.hovered),\n      pressed: stateThemeColor_v0_v2(v0, t.positive.pressed),\n      selected: stateThemeColor_v0_v2(v0, t.positive.selected),\n      disabled: stateThemeColor_v0_v2(v0, t.positive.disabled),\n    },\n    caution: {\n      enabled: stateThemeColor_v0_v2(v0, t.caution.enabled),\n      hovered: stateThemeColor_v0_v2(v0, t.caution.hovered),\n      pressed: stateThemeColor_v0_v2(v0, t.caution.pressed),\n      selected: stateThemeColor_v0_v2(v0, t.caution.selected),\n      disabled: stateThemeColor_v0_v2(v0, t.caution.disabled),\n    },\n    critical: {\n      enabled: stateThemeColor_v0_v2(v0, t.critical.enabled),\n      hovered: stateThemeColor_v0_v2(v0, t.critical.hovered),\n      pressed: stateThemeColor_v0_v2(v0, t.critical.pressed),\n      selected: stateThemeColor_v0_v2(v0, t.critical.selected),\n      disabled: stateThemeColor_v0_v2(v0, t.critical.disabled),\n    },\n  }\n}\n\nfunction stateThemeColor_v0_v2(v0: ThemeColor, state: ThemeColorGenericState): ThemeColorState_v2 {\n  return {\n    ...state,\n    avatar: {\n      gray: {\n        bg: v0.spot.gray,\n        fg: v0.base.bg,\n      },\n      blue: {\n        bg: v0.spot.blue,\n        fg: v0.base.bg,\n      },\n      purple: {\n        bg: v0.spot.purple,\n        fg: v0.base.bg,\n      },\n      magenta: {\n        bg: v0.spot.magenta,\n        fg: v0.base.bg,\n      },\n      red: {\n        bg: v0.spot.red,\n        fg: v0.base.bg,\n      },\n      orange: {\n        bg: v0.spot.orange,\n        fg: v0.base.bg,\n      },\n      yellow: {\n        bg: v0.spot.yellow,\n        fg: v0.base.bg,\n      },\n      green: {\n        bg: v0.spot.green,\n        fg: v0.base.bg,\n      },\n      cyan: {\n        bg: v0.spot.cyan,\n        fg: v0.base.bg,\n      },\n    },\n    badge: {\n      default: {\n        bg: v0.muted.default.enabled.bg,\n        fg: v0.muted.default.enabled.fg,\n        dot: v0.muted.default.enabled.muted.fg,\n        icon: v0.muted.default.enabled.muted.fg,\n      },\n      neutral: {\n        bg: v0.muted.transparent.enabled.bg,\n        fg: v0.muted.transparent.enabled.fg,\n        dot: v0.muted.transparent.enabled.muted.fg,\n        icon: v0.muted.transparent.enabled.muted.fg,\n      },\n      primary: {\n        bg: v0.muted.primary.enabled.bg,\n        fg: v0.muted.primary.enabled.fg,\n        dot: v0.muted.primary.enabled.muted.fg,\n        icon: v0.muted.primary.enabled.muted.fg,\n      },\n      suggest: {\n        bg: v0.muted.primary.enabled.bg,\n        fg: v0.muted.primary.enabled.fg,\n        dot: v0.muted.primary.enabled.muted.fg,\n        icon: v0.muted.primary.enabled.muted.fg,\n      },\n      positive: {\n        bg: v0.muted.positive.enabled.bg,\n        fg: v0.muted.positive.enabled.fg,\n        dot: v0.muted.positive.enabled.muted.fg,\n        icon: v0.muted.positive.enabled.muted.fg,\n      },\n      caution: {\n        bg: v0.muted.caution.enabled.bg,\n        fg: v0.muted.caution.enabled.fg,\n        dot: v0.muted.caution.enabled.muted.fg,\n        icon: v0.muted.caution.enabled.muted.fg,\n      },\n      critical: {\n        bg: v0.muted.critical.enabled.bg,\n        fg: v0.muted.critical.enabled.fg,\n        dot: v0.muted.critical.enabled.muted.fg,\n        icon: v0.muted.critical.enabled.muted.fg,\n      },\n    },\n    kbd: {\n      bg: v0.muted.default.enabled.bg,\n      fg: v0.muted.default.enabled.fg,\n      border: v0.muted.default.enabled.border,\n    },\n    muted: {\n      ...v0.muted.default.enabled.muted,\n      bg: state.bg2 || state.bg,\n    },\n    skeleton: {\n      from: state.skeleton?.from || state.border,\n      to: state.skeleton?.to || state.border,\n    },\n  }\n}\n\nfunction inputStatesThemeColor_v0_v2(states: ThemeColorInputStates): ThemeColorInputMode_v2 {\n  return {\n    enabled: inputStateThemeColor_v0_v2(states.enabled),\n    disabled: inputStateThemeColor_v0_v2(states.disabled),\n    readOnly: inputStateThemeColor_v0_v2(states.readOnly),\n    hovered: inputStateThemeColor_v0_v2(states.hovered),\n  }\n}\n\nfunction inputStateThemeColor_v0_v2(state: ThemeColorInputState): ThemeColorInputState_v2 {\n  return {\n    bg: state.bg,\n    border: state.border,\n    fg: state.fg,\n    muted: {\n      bg: state.bg2,\n    },\n    placeholder: state.placeholder,\n  }\n}\n","import {defaultThemeConfig} from '../defaults/config'\nimport {Theme, Theme_v2} from '../system'\nimport {themeColor_v0_v2} from './themeColor_v0_v2'\n\nconst cache = new WeakMap<Theme, Theme_v2>()\n\n/** @public */\nexport function getTheme_v2(theme: Theme): Theme_v2 {\n  if (theme.sanity.v2?._resolved) return theme.sanity.v2\n\n  const cached_v2 = cache.get(theme)\n\n  if (cached_v2) return cached_v2\n\n  const v2: Theme_v2 = {\n    _version: 2,\n    _resolved: true,\n    avatar: {\n      ...defaultThemeConfig.avatar,\n      ...theme.sanity.avatar,\n    },\n    button: {\n      ...defaultThemeConfig.button,\n      ...theme.sanity.button,\n    },\n    card: defaultThemeConfig.card,\n    color: themeColor_v0_v2(theme.sanity.color),\n    container: theme.sanity.container,\n    font: theme.sanity.fonts,\n    input: {\n      ...defaultThemeConfig.input,\n      ...theme.sanity.input,\n      checkbox: {\n        ...defaultThemeConfig.input.checkbox,\n        ...theme.sanity.input.checkbox,\n      },\n      radio: {\n        ...defaultThemeConfig.input.radio,\n        ...theme.sanity.input.radio,\n      },\n      switch: {\n        ...defaultThemeConfig.input.switch,\n        ...theme.sanity.input.switch,\n      },\n    },\n    layer: theme.sanity.layer ?? defaultThemeConfig.layer,\n    media: theme.sanity.media,\n    radius: theme.sanity.radius,\n    shadow: theme.sanity.shadows,\n    space: theme.sanity.space,\n    style: theme.sanity.styles,\n  }\n\n  cache.set(theme, v2)\n\n  return v2\n}\n"],"names":["defaultThemeConfig","avatar","sizes","distance","size","focusRing","offset","width","button","textWeight","border","BORDER_WIDTH","card","shadow","outline","OUTLINE_WIDTH","container","media","layer","dialog","zOffset","popover","tooltip","radius","umbra","penumbra","ambient","space","input","checkbox","radio","markSize","switch","height","padding","transitionDurationMs","transitionTimingFunction","select","text","style","root","transition","cache","WeakMap","themeColor_v0_v2","color_v0","cached_v2","get","base","stateThemeColor_v0_v2","enabled","color_v2","_blend","dark","_dark","accent","backdrop","badge","bg","default","stateTonesThemeColor_v0_v2","ghost","bleed","code","fg","icon","muted","inputStatesThemeColor_v0_v2","invalid","kbd","link","selectable","bg2","skeleton","from","to","syntax","set","v0","t","hovered","pressed","selected","disabled","neutral","primary","suggest","positive","caution","critical","state","gray","spot","blue","purple","magenta","red","orange","yellow","green","cyan","dot","transparent","states","inputStateThemeColor_v0_v2","readOnly","placeholder","getTheme_v2","theme","sanity","v2","_resolved","_version","color","font","fonts","shadows","styles"],"mappings":"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"}